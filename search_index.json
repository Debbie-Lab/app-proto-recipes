{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["app","introduct","proto","recip","端目录结构解析器。","项目脚手架node"],"context.html":["'@server/context/http'","//","=","=>","@context","app.use(ctx","class","const","context","ctx.$config","ctx.$d","ctx.$data","ctx.$middlewar","ctx.$page","ctx.$rout","ctx.$tpl","ctx.http","ctx.request","ctx.respons","data)","datasourc","default","export","form","get(uri)","http","http()","http())。","https://github.com/koajs/koa/blob/master/docs/api/context.md。","http实例(耗资源)","import","middlewar","new","page","post(uri,","rout","server","templat","us","{","{}","}","})","「只读」","「可修改」","中间件列表","之外，我们对context内置了如下的扩展：","传统方式","你可以创建http.js，内容格式如下：","供模板使用的数据：可以在中间件中修改`$data`对象","关于koa上下文介绍详见：","原则上，对于那些初始化工作稍重的对象都建议采用扩展context的方式实现，典型的如数据库连接实例等。","可以采用的渲染模板","和","在koa中的任何一次请求都会产生一个全新的上下文context，除了内置的","在koa应用启动时会自动扩展至ctx中。比如，在每个中间件中可能都会使用到http(发请求)，","在koa应用启动时，就会自动创建一个http的实例并扩展至ctx.http中(即ctx.http","如果你想给ctx扩展新的对象，可以在目录server/context新建一个.js文件(要求抛出一个类)，","扩展context方式","扩展行为在koa实例执行listen()前启动，这样对于任何一次请求都会复用ctx.http这个实例，无需重复创建、初始化。","抛出一个类","整个koa应用中，每次请求都复用同一个http实例","服务端设定的url路由","每次请求时都会新建一个","能被渲染的页面","需要注意的是ctx.$routes、ctx.$middlewares、ctx.$tpls和ctx.$pages在开发中一般不会被使用到，主要用途在于调试。"],"controllers.html":["@control"],"datasources.html":["\"理想\"情况下，前端通过调用后端某个（restful风格api）接口即可满足前端的业务逻辑、渲染。","\"理想\"的困扰:",".json","=>","@datasourc","data","datasourc","gener","hjson,","interfac","introduc","json.hson","json.mock","mock.js,","simul","user","使用方法","前后端开发周期不一致，前端研发阶段并不一定能及时拿到后端的接口数据（或者满足前端某种交互场景的\"临界\"数据）；这意味着，后端的进度会\"阻塞\"到前端的研发。","前端的某个模块的数据可能来自不同后端（团队）数据服务，要求后端提供一份让前端开发者\"舒适\"的数据？先不论协商沟通的成本，后端更改接口的进度需与前端迭代需保持一致，这种要求违背了前后端分离的初衷。","功能：对数据进行封装、聚合，提供统一的数据来源；处于前后端分离的\"枢纽\"位置。","可实际开发中，存在着许许多多的","数据模拟","缓存请求","非"],"middlewares.html":["@middlewar"],"templates.html":["@templat"]},"length":6},"tokenStore":{"root":{"docs":{},"a":{"docs":{},"p":{"docs":{},"p":{"docs":{"./":{"ref":"./","tf":0.2857142857142857}},".":{"docs":{},"u":{"docs":{},"s":{"docs":{},"e":{"docs":{},"(":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{"context.html":{"ref":"context.html","tf":0.030303030303030304}}}}}}}}}}}}},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{},"r":{"docs":{},"o":{"docs":{},"d":{"docs":{},"u":{"docs":{},"c":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}},"t":{"docs":{"./":{"ref":"./","tf":10}}}}}}}},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},"a":{"docs":{},"c":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}},"m":{"docs":{},"p":{"docs":{},"o":{"docs":{},"r":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}},"p":{"docs":{},"r":{"docs":{},"o":{"docs":{},"t":{"docs":{},"o":{"docs":{"./":{"ref":"./","tf":0.2857142857142857}}}}}},"a":{"docs":{},"g":{"docs":{},"e":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}},"o":{"docs":{},"s":{"docs":{},"t":{"docs":{},"(":{"docs":{},"u":{"docs":{},"r":{"docs":{},"i":{"docs":{},",":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}},"r":{"docs":{},"e":{"docs":{},"c":{"docs":{},"i":{"docs":{},"p":{"docs":{"./":{"ref":"./","tf":0.14285714285714285}}}}}},"o":{"docs":{},"u":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"端":{"docs":{},"目":{"docs":{},"录":{"docs":{},"结":{"docs":{},"构":{"docs":{},"解":{"docs":{},"析":{"docs":{},"器":{"docs":{},"。":{"docs":{"./":{"ref":"./","tf":0.14285714285714285}}}}}}}}}}},"项":{"docs":{},"目":{"docs":{},"脚":{"docs":{},"手":{"docs":{},"架":{"docs":{},"n":{"docs":{},"o":{"docs":{},"d":{"docs":{},"e":{"docs":{"./":{"ref":"./","tf":0.14285714285714285}}}}}}}}}}},"'":{"docs":{},"@":{"docs":{},"s":{"docs":{},"e":{"docs":{},"r":{"docs":{},"v":{"docs":{},"e":{"docs":{},"r":{"docs":{},"/":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{},"/":{"docs":{},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{},"'":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}},"/":{"docs":{},"/":{"docs":{"context.html":{"ref":"context.html","tf":0.13131313131313133}}}},"=":{"docs":{"context.html":{"ref":"context.html","tf":0.030303030303030304}},">":{"docs":{"context.html":{"ref":"context.html","tf":0.030303030303030304},"datasources.html":{"ref":"datasources.html","tf":0.12}}}},"@":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":10}}}}},"r":{"docs":{},"o":{"docs":{},"l":{"docs":{"controllers.html":{"ref":"controllers.html","tf":10}}}}}}}}},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{},"s":{"docs":{},"o":{"docs":{},"u":{"docs":{},"r":{"docs":{},"c":{"docs":{"datasources.html":{"ref":"datasources.html","tf":10}}}}}}}}}}},"m":{"docs":{},"i":{"docs":{},"d":{"docs":{},"d":{"docs":{},"l":{"docs":{},"e":{"docs":{},"w":{"docs":{},"a":{"docs":{},"r":{"docs":{"middlewares.html":{"ref":"middlewares.html","tf":10}}}}}}}}}}},"t":{"docs":{},"e":{"docs":{},"m":{"docs":{},"p":{"docs":{},"l":{"docs":{},"a":{"docs":{},"t":{"docs":{"templates.html":{"ref":"templates.html","tf":10}}}}}}}}}},"c":{"docs":{},"l":{"docs":{},"a":{"docs":{},"s":{"docs":{},"s":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"o":{"docs":{},"n":{"docs":{},"s":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":0.020202020202020204}}}},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}},"t":{"docs":{},"x":{"docs":{},".":{"docs":{},"$":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"f":{"docs":{},"i":{"docs":{},"g":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}},"d":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"m":{"docs":{},"i":{"docs":{},"d":{"docs":{},"d":{"docs":{},"l":{"docs":{},"e":{"docs":{},"w":{"docs":{},"a":{"docs":{},"r":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}},"p":{"docs":{},"a":{"docs":{},"g":{"docs":{},"e":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"r":{"docs":{},"o":{"docs":{},"u":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"t":{"docs":{},"p":{"docs":{},"l":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"r":{"docs":{},"e":{"docs":{},"q":{"docs":{},"u":{"docs":{},"e":{"docs":{},"s":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}},"s":{"docs":{},"p":{"docs":{},"o":{"docs":{},"n":{"docs":{},"s":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}},")":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}},"s":{"docs":{},"o":{"docs":{},"u":{"docs":{},"r":{"docs":{},"c":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102},"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}}},"e":{"docs":{},"f":{"docs":{},"a":{"docs":{},"u":{"docs":{},"l":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}},"e":{"docs":{},"x":{"docs":{},"p":{"docs":{},"o":{"docs":{},"r":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}},"f":{"docs":{},"o":{"docs":{},"r":{"docs":{},"m":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"g":{"docs":{},"e":{"docs":{},"t":{"docs":{},"(":{"docs":{},"u":{"docs":{},"r":{"docs":{},"i":{"docs":{},")":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}},"n":{"docs":{},"e":{"docs":{},"r":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{"context.html":{"ref":"context.html","tf":0.04040404040404041}},"(":{"docs":{},")":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}},")":{"docs":{},"。":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"s":{"docs":{},":":{"docs":{},"/":{"docs":{},"/":{"docs":{},"g":{"docs":{},"i":{"docs":{},"t":{"docs":{},"h":{"docs":{},"u":{"docs":{},"b":{"docs":{},".":{"docs":{},"c":{"docs":{},"o":{"docs":{},"m":{"docs":{},"/":{"docs":{},"k":{"docs":{},"o":{"docs":{},"a":{"docs":{},"j":{"docs":{},"s":{"docs":{},"/":{"docs":{},"k":{"docs":{},"o":{"docs":{},"a":{"docs":{},"/":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"b":{"docs":{},"/":{"docs":{},"m":{"docs":{},"a":{"docs":{},"s":{"docs":{},"t":{"docs":{},"e":{"docs":{},"r":{"docs":{},"/":{"docs":{},"d":{"docs":{},"o":{"docs":{},"c":{"docs":{},"s":{"docs":{},"/":{"docs":{},"a":{"docs":{},"p":{"docs":{},"i":{"docs":{},"/":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{},".":{"docs":{},"m":{"docs":{},"d":{"docs":{},"。":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"实":{"docs":{},"例":{"docs":{},"(":{"docs":{},"耗":{"docs":{},"资":{"docs":{},"源":{"docs":{},")":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}},"j":{"docs":{},"s":{"docs":{},"o":{"docs":{},"n":{"docs":{},",":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}},"m":{"docs":{},"i":{"docs":{},"d":{"docs":{},"d":{"docs":{},"l":{"docs":{},"e":{"docs":{},"w":{"docs":{},"a":{"docs":{},"r":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},".":{"docs":{},"j":{"docs":{},"s":{"docs":{},",":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}}},"n":{"docs":{},"e":{"docs":{},"w":{"docs":{"context.html":{"ref":"context.html","tf":0.020202020202020204}}}}},"s":{"docs":{},"e":{"docs":{},"r":{"docs":{},"v":{"docs":{},"e":{"docs":{},"r":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}},"i":{"docs":{},"m":{"docs":{},"u":{"docs":{},"l":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}},"t":{"docs":{},"e":{"docs":{},"m":{"docs":{},"p":{"docs":{},"l":{"docs":{},"a":{"docs":{},"t":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}},"u":{"docs":{},"s":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}},"e":{"docs":{},"r":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}},"{":{"docs":{"context.html":{"ref":"context.html","tf":0.04040404040404041}},"}":{"docs":{"context.html":{"ref":"context.html","tf":0.020202020202020204}}}},"}":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}},")":{"docs":{"context.html":{"ref":"context.html","tf":0.030303030303030304}}}},"「":{"docs":{},"只":{"docs":{},"读":{"docs":{},"」":{"docs":{"context.html":{"ref":"context.html","tf":0.06060606060606061}}}}},"可":{"docs":{},"修":{"docs":{},"改":{"docs":{},"」":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{},"列":{"docs":{},"表":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}},"之":{"docs":{},"外":{"docs":{},"，":{"docs":{},"我":{"docs":{},"们":{"docs":{},"对":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{},"内":{"docs":{},"置":{"docs":{},"了":{"docs":{},"如":{"docs":{},"下":{"docs":{},"的":{"docs":{},"扩":{"docs":{},"展":{"docs":{},"：":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}},"传":{"docs":{},"统":{"docs":{},"方":{"docs":{},"式":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}},"你":{"docs":{},"可":{"docs":{},"以":{"docs":{},"创":{"docs":{},"建":{"docs":{},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{},".":{"docs":{},"j":{"docs":{},"s":{"docs":{},"，":{"docs":{},"内":{"docs":{},"容":{"docs":{},"格":{"docs":{},"式":{"docs":{},"如":{"docs":{},"下":{"docs":{},"：":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}},"供":{"docs":{},"模":{"docs":{},"板":{"docs":{},"使":{"docs":{},"用":{"docs":{},"的":{"docs":{},"数":{"docs":{},"据":{"docs":{},"：":{"docs":{},"可":{"docs":{},"以":{"docs":{},"在":{"docs":{},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{},"中":{"docs":{},"修":{"docs":{},"改":{"docs":{},"`":{"docs":{},"$":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{},"`":{"docs":{},"对":{"docs":{},"象":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"关":{"docs":{},"于":{"docs":{},"k":{"docs":{},"o":{"docs":{},"a":{"docs":{},"上":{"docs":{},"下":{"docs":{},"文":{"docs":{},"介":{"docs":{},"绍":{"docs":{},"详":{"docs":{},"见":{"docs":{},"：":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}},"原":{"docs":{},"则":{"docs":{},"上":{"docs":{},"，":{"docs":{},"对":{"docs":{},"于":{"docs":{},"那":{"docs":{},"些":{"docs":{},"初":{"docs":{},"始":{"docs":{},"化":{"docs":{},"工":{"docs":{},"作":{"docs":{},"稍":{"docs":{},"重":{"docs":{},"的":{"docs":{},"对":{"docs":{},"象":{"docs":{},"都":{"docs":{},"建":{"docs":{},"议":{"docs":{},"采":{"docs":{},"用":{"docs":{},"扩":{"docs":{},"展":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{},"的":{"docs":{},"方":{"docs":{},"式":{"docs":{},"实":{"docs":{},"现":{"docs":{},"，":{"docs":{},"典":{"docs":{},"型":{"docs":{},"的":{"docs":{},"如":{"docs":{},"数":{"docs":{},"据":{"docs":{},"库":{"docs":{},"连":{"docs":{},"接":{"docs":{},"实":{"docs":{},"例":{"docs":{},"等":{"docs":{},"。":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"可":{"docs":{},"以":{"docs":{},"采":{"docs":{},"用":{"docs":{},"的":{"docs":{},"渲":{"docs":{},"染":{"docs":{},"模":{"docs":{},"板":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}},"实":{"docs":{},"际":{"docs":{},"开":{"docs":{},"发":{"docs":{},"中":{"docs":{},"，":{"docs":{},"存":{"docs":{},"在":{"docs":{},"着":{"docs":{},"许":{"docs":{},"许":{"docs":{},"多":{"docs":{},"多":{"docs":{},"的":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}}}}}}}}}},"和":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}},"在":{"docs":{},"k":{"docs":{},"o":{"docs":{},"a":{"docs":{},"中":{"docs":{},"的":{"docs":{},"任":{"docs":{},"何":{"docs":{},"一":{"docs":{},"次":{"docs":{},"请":{"docs":{},"求":{"docs":{},"都":{"docs":{},"会":{"docs":{},"产":{"docs":{},"生":{"docs":{},"一":{"docs":{},"个":{"docs":{},"全":{"docs":{},"新":{"docs":{},"的":{"docs":{},"上":{"docs":{},"下":{"docs":{},"文":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{},"，":{"docs":{},"除":{"docs":{},"了":{"docs":{},"内":{"docs":{},"置":{"docs":{},"的":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"应":{"docs":{},"用":{"docs":{},"启":{"docs":{},"动":{"docs":{},"时":{"docs":{},"会":{"docs":{},"自":{"docs":{},"动":{"docs":{},"扩":{"docs":{},"展":{"docs":{},"至":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},"中":{"docs":{},"。":{"docs":{},"比":{"docs":{},"如":{"docs":{},"，":{"docs":{},"在":{"docs":{},"每":{"docs":{},"个":{"docs":{},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{},"中":{"docs":{},"可":{"docs":{},"能":{"docs":{},"都":{"docs":{},"会":{"docs":{},"使":{"docs":{},"用":{"docs":{},"到":{"docs":{},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{},"(":{"docs":{},"发":{"docs":{},"请":{"docs":{},"求":{"docs":{},")":{"docs":{},"，":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"，":{"docs":{},"就":{"docs":{},"会":{"docs":{},"自":{"docs":{},"动":{"docs":{},"创":{"docs":{},"建":{"docs":{},"一":{"docs":{},"个":{"docs":{},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{},"的":{"docs":{},"实":{"docs":{},"例":{"docs":{},"并":{"docs":{},"扩":{"docs":{},"展":{"docs":{},"至":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},".":{"docs":{},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{},"中":{"docs":{},"(":{"docs":{},"即":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},".":{"docs":{},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"如":{"docs":{},"果":{"docs":{},"你":{"docs":{},"想":{"docs":{},"给":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},"扩":{"docs":{},"展":{"docs":{},"新":{"docs":{},"的":{"docs":{},"对":{"docs":{},"象":{"docs":{},"，":{"docs":{},"可":{"docs":{},"以":{"docs":{},"在":{"docs":{},"目":{"docs":{},"录":{"docs":{},"s":{"docs":{},"e":{"docs":{},"r":{"docs":{},"v":{"docs":{},"e":{"docs":{},"r":{"docs":{},"/":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{},"新":{"docs":{},"建":{"docs":{},"一":{"docs":{},"个":{"docs":{},".":{"docs":{},"j":{"docs":{},"s":{"docs":{},"文":{"docs":{},"件":{"docs":{},"(":{"docs":{},"要":{"docs":{},"求":{"docs":{},"抛":{"docs":{},"出":{"docs":{},"一":{"docs":{},"个":{"docs":{},"类":{"docs":{},")":{"docs":{},"，":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"扩":{"docs":{},"展":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{},"方":{"docs":{},"式":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}},"行":{"docs":{},"为":{"docs":{},"在":{"docs":{},"k":{"docs":{},"o":{"docs":{},"a":{"docs":{},"实":{"docs":{},"例":{"docs":{},"执":{"docs":{},"行":{"docs":{},"l":{"docs":{},"i":{"docs":{},"s":{"docs":{},"t":{"docs":{},"e":{"docs":{},"n":{"docs":{},"(":{"docs":{},")":{"docs":{},"前":{"docs":{},"启":{"docs":{},"动":{"docs":{},"，":{"docs":{},"这":{"docs":{},"样":{"docs":{},"对":{"docs":{},"于":{"docs":{},"任":{"docs":{},"何":{"docs":{},"一":{"docs":{},"次":{"docs":{},"请":{"docs":{},"求":{"docs":{},"都":{"docs":{},"会":{"docs":{},"复":{"docs":{},"用":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},".":{"docs":{},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{},"这":{"docs":{},"个":{"docs":{},"实":{"docs":{},"例":{"docs":{},"，":{"docs":{},"无":{"docs":{},"需":{"docs":{},"重":{"docs":{},"复":{"docs":{},"创":{"docs":{},"建":{"docs":{},"、":{"docs":{},"初":{"docs":{},"始":{"docs":{},"化":{"docs":{},"。":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"抛":{"docs":{},"出":{"docs":{},"一":{"docs":{},"个":{"docs":{},"类":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}},"整":{"docs":{},"个":{"docs":{},"k":{"docs":{},"o":{"docs":{},"a":{"docs":{},"应":{"docs":{},"用":{"docs":{},"中":{"docs":{},"，":{"docs":{},"每":{"docs":{},"次":{"docs":{},"请":{"docs":{},"求":{"docs":{},"都":{"docs":{},"复":{"docs":{},"用":{"docs":{},"同":{"docs":{},"一":{"docs":{},"个":{"docs":{},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{},"实":{"docs":{},"例":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}},"服":{"docs":{},"务":{"docs":{},"端":{"docs":{},"设":{"docs":{},"定":{"docs":{},"的":{"docs":{},"u":{"docs":{},"r":{"docs":{},"l":{"docs":{},"路":{"docs":{},"由":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}},"每":{"docs":{},"次":{"docs":{},"请":{"docs":{},"求":{"docs":{},"时":{"docs":{},"都":{"docs":{},"会":{"docs":{},"新":{"docs":{},"建":{"docs":{},"一":{"docs":{},"个":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}},"能":{"docs":{},"被":{"docs":{},"渲":{"docs":{},"染":{"docs":{},"的":{"docs":{},"页":{"docs":{},"面":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}},"需":{"docs":{},"要":{"docs":{},"注":{"docs":{},"意":{"docs":{},"的":{"docs":{},"是":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},".":{"docs":{},"$":{"docs":{},"r":{"docs":{},"o":{"docs":{},"u":{"docs":{},"t":{"docs":{},"e":{"docs":{},"s":{"docs":{},"、":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},".":{"docs":{},"$":{"docs":{},"m":{"docs":{},"i":{"docs":{},"d":{"docs":{},"d":{"docs":{},"l":{"docs":{},"e":{"docs":{},"w":{"docs":{},"a":{"docs":{},"r":{"docs":{},"e":{"docs":{},"s":{"docs":{},"、":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},".":{"docs":{},"$":{"docs":{},"t":{"docs":{},"p":{"docs":{},"l":{"docs":{},"s":{"docs":{},"和":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},".":{"docs":{},"$":{"docs":{},"p":{"docs":{},"a":{"docs":{},"g":{"docs":{},"e":{"docs":{},"s":{"docs":{},"在":{"docs":{},"开":{"docs":{},"发":{"docs":{},"中":{"docs":{},"一":{"docs":{},"般":{"docs":{},"不":{"docs":{},"会":{"docs":{},"被":{"docs":{},"使":{"docs":{},"用":{"docs":{},"到":{"docs":{},"，":{"docs":{},"主":{"docs":{},"要":{"docs":{},"用":{"docs":{},"途":{"docs":{},"在":{"docs":{},"于":{"docs":{},"调":{"docs":{},"试":{"docs":{},"。":{"docs":{"context.html":{"ref":"context.html","tf":0.010101010101010102}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"\"":{"docs":{},"理":{"docs":{},"想":{"docs":{},"\"":{"docs":{},"情":{"docs":{},"况":{"docs":{},"下":{"docs":{},"，":{"docs":{},"前":{"docs":{},"端":{"docs":{},"通":{"docs":{},"过":{"docs":{},"调":{"docs":{},"用":{"docs":{},"后":{"docs":{},"端":{"docs":{},"某":{"docs":{},"个":{"docs":{},"（":{"docs":{},"r":{"docs":{},"e":{"docs":{},"s":{"docs":{},"t":{"docs":{},"f":{"docs":{},"u":{"docs":{},"l":{"docs":{},"风":{"docs":{},"格":{"docs":{},"a":{"docs":{},"p":{"docs":{},"i":{"docs":{},"）":{"docs":{},"接":{"docs":{},"口":{"docs":{},"即":{"docs":{},"可":{"docs":{},"满":{"docs":{},"足":{"docs":{},"前":{"docs":{},"端":{"docs":{},"的":{"docs":{},"业":{"docs":{},"务":{"docs":{},"逻":{"docs":{},"辑":{"docs":{},"、":{"docs":{},"渲":{"docs":{},"染":{"docs":{},"。":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"的":{"docs":{},"困":{"docs":{},"扰":{"docs":{},":":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}}},".":{"docs":{},"j":{"docs":{},"s":{"docs":{},"o":{"docs":{},"n":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}},"j":{"docs":{},"s":{"docs":{},"o":{"docs":{},"n":{"docs":{},".":{"docs":{},"h":{"docs":{},"s":{"docs":{},"o":{"docs":{},"n":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}},"m":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}}}},"使":{"docs":{},"用":{"docs":{},"方":{"docs":{},"法":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}},"前":{"docs":{},"后":{"docs":{},"端":{"docs":{},"开":{"docs":{},"发":{"docs":{},"周":{"docs":{},"期":{"docs":{},"不":{"docs":{},"一":{"docs":{},"致":{"docs":{},"，":{"docs":{},"前":{"docs":{},"端":{"docs":{},"研":{"docs":{},"发":{"docs":{},"阶":{"docs":{},"段":{"docs":{},"并":{"docs":{},"不":{"docs":{},"一":{"docs":{},"定":{"docs":{},"能":{"docs":{},"及":{"docs":{},"时":{"docs":{},"拿":{"docs":{},"到":{"docs":{},"后":{"docs":{},"端":{"docs":{},"的":{"docs":{},"接":{"docs":{},"口":{"docs":{},"数":{"docs":{},"据":{"docs":{},"（":{"docs":{},"或":{"docs":{},"者":{"docs":{},"满":{"docs":{},"足":{"docs":{},"前":{"docs":{},"端":{"docs":{},"某":{"docs":{},"种":{"docs":{},"交":{"docs":{},"互":{"docs":{},"场":{"docs":{},"景":{"docs":{},"的":{"docs":{},"\"":{"docs":{},"临":{"docs":{},"界":{"docs":{},"\"":{"docs":{},"数":{"docs":{},"据":{"docs":{},"）":{"docs":{},"；":{"docs":{},"这":{"docs":{},"意":{"docs":{},"味":{"docs":{},"着":{"docs":{},"，":{"docs":{},"后":{"docs":{},"端":{"docs":{},"的":{"docs":{},"进":{"docs":{},"度":{"docs":{},"会":{"docs":{},"\"":{"docs":{},"阻":{"docs":{},"塞":{"docs":{},"\"":{"docs":{},"到":{"docs":{},"前":{"docs":{},"端":{"docs":{},"的":{"docs":{},"研":{"docs":{},"发":{"docs":{},"。":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"端":{"docs":{},"的":{"docs":{},"某":{"docs":{},"个":{"docs":{},"模":{"docs":{},"块":{"docs":{},"的":{"docs":{},"数":{"docs":{},"据":{"docs":{},"可":{"docs":{},"能":{"docs":{},"来":{"docs":{},"自":{"docs":{},"不":{"docs":{},"同":{"docs":{},"后":{"docs":{},"端":{"docs":{},"（":{"docs":{},"团":{"docs":{},"队":{"docs":{},"）":{"docs":{},"数":{"docs":{},"据":{"docs":{},"服":{"docs":{},"务":{"docs":{},"，":{"docs":{},"要":{"docs":{},"求":{"docs":{},"后":{"docs":{},"端":{"docs":{},"提":{"docs":{},"供":{"docs":{},"一":{"docs":{},"份":{"docs":{},"让":{"docs":{},"前":{"docs":{},"端":{"docs":{},"开":{"docs":{},"发":{"docs":{},"者":{"docs":{},"\"":{"docs":{},"舒":{"docs":{},"适":{"docs":{},"\"":{"docs":{},"的":{"docs":{},"数":{"docs":{},"据":{"docs":{},"？":{"docs":{},"先":{"docs":{},"不":{"docs":{},"论":{"docs":{},"协":{"docs":{},"商":{"docs":{},"沟":{"docs":{},"通":{"docs":{},"的":{"docs":{},"成":{"docs":{},"本":{"docs":{},"，":{"docs":{},"后":{"docs":{},"端":{"docs":{},"更":{"docs":{},"改":{"docs":{},"接":{"docs":{},"口":{"docs":{},"的":{"docs":{},"进":{"docs":{},"度":{"docs":{},"需":{"docs":{},"与":{"docs":{},"前":{"docs":{},"端":{"docs":{},"迭":{"docs":{},"代":{"docs":{},"需":{"docs":{},"保":{"docs":{},"持":{"docs":{},"一":{"docs":{},"致":{"docs":{},"，":{"docs":{},"这":{"docs":{},"种":{"docs":{},"要":{"docs":{},"求":{"docs":{},"违":{"docs":{},"背":{"docs":{},"了":{"docs":{},"前":{"docs":{},"后":{"docs":{},"端":{"docs":{},"分":{"docs":{},"离":{"docs":{},"的":{"docs":{},"初":{"docs":{},"衷":{"docs":{},"。":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"功":{"docs":{},"能":{"docs":{},"：":{"docs":{},"对":{"docs":{},"数":{"docs":{},"据":{"docs":{},"进":{"docs":{},"行":{"docs":{},"封":{"docs":{},"装":{"docs":{},"、":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"，":{"docs":{},"提":{"docs":{},"供":{"docs":{},"统":{"docs":{},"一":{"docs":{},"的":{"docs":{},"数":{"docs":{},"据":{"docs":{},"来":{"docs":{},"源":{"docs":{},"；":{"docs":{},"处":{"docs":{},"于":{"docs":{},"前":{"docs":{},"后":{"docs":{},"端":{"docs":{},"分":{"docs":{},"离":{"docs":{},"的":{"docs":{},"\"":{"docs":{},"枢":{"docs":{},"纽":{"docs":{},"\"":{"docs":{},"位":{"docs":{},"置":{"docs":{},"。":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"数":{"docs":{},"据":{"docs":{},"模":{"docs":{},"拟":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}},"缓":{"docs":{},"存":{"docs":{},"请":{"docs":{},"求":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}}}},"非":{"docs":{"datasources.html":{"ref":"datasources.html","tf":0.04}}}},"length":99},"corpusTokens":["\"理想\"情况下，前端通过调用后端某个（restful风格api）接口即可满足前端的业务逻辑、渲染。","\"理想\"的困扰:","'@server/context/http'",".json","//","=","=>","@context","@control","@datasourc","@middlewar","@templat","app","app.use(ctx","class","const","context","ctx.$config","ctx.$d","ctx.$data","ctx.$middlewar","ctx.$page","ctx.$rout","ctx.$tpl","ctx.http","ctx.request","ctx.respons","data","data)","datasourc","default","export","form","gener","get(uri)","hjson,","http","http()","http())。","https://github.com/koajs/koa/blob/master/docs/api/context.md。","http实例(耗资源)","import","interfac","introduc","introduct","json.hson","json.mock","middlewar","mock.js,","new","page","post(uri,","proto","recip","rout","server","simul","templat","us","user","{","{}","}","})","「只读」","「可修改」","中间件列表","之外，我们对context内置了如下的扩展：","传统方式","你可以创建http.js，内容格式如下：","使用方法","供模板使用的数据：可以在中间件中修改`$data`对象","关于koa上下文介绍详见：","前后端开发周期不一致，前端研发阶段并不一定能及时拿到后端的接口数据（或者满足前端某种交互场景的\"临界\"数据）；这意味着，后端的进度会\"阻塞\"到前端的研发。","前端的某个模块的数据可能来自不同后端（团队）数据服务，要求后端提供一份让前端开发者\"舒适\"的数据？先不论协商沟通的成本，后端更改接口的进度需与前端迭代需保持一致，这种要求违背了前后端分离的初衷。","功能：对数据进行封装、聚合，提供统一的数据来源；处于前后端分离的\"枢纽\"位置。","原则上，对于那些初始化工作稍重的对象都建议采用扩展context的方式实现，典型的如数据库连接实例等。","可以采用的渲染模板","可实际开发中，存在着许许多多的","和","在koa中的任何一次请求都会产生一个全新的上下文context，除了内置的","在koa应用启动时会自动扩展至ctx中。比如，在每个中间件中可能都会使用到http(发请求)，","在koa应用启动时，就会自动创建一个http的实例并扩展至ctx.http中(即ctx.http","如果你想给ctx扩展新的对象，可以在目录server/context新建一个.js文件(要求抛出一个类)，","扩展context方式","扩展行为在koa实例执行listen()前启动，这样对于任何一次请求都会复用ctx.http这个实例，无需重复创建、初始化。","抛出一个类","数据模拟","整个koa应用中，每次请求都复用同一个http实例","服务端设定的url路由","每次请求时都会新建一个","端目录结构解析器。","缓存请求","能被渲染的页面","需要注意的是ctx.$routes、ctx.$middlewares、ctx.$tpls和ctx.$pages在开发中一般不会被使用到，主要用途在于调试。","非","项目脚手架node"],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"Introduction","keywords":"","body":"app-proto-recipes\napp-proto 项目脚手架Node 端目录结构解析器。\n"},"context.html":{"url":"context.html","title":"@context","keywords":"","body":"Context\n在Koa中的任何一次请求都会产生一个全新的上下文Context，除了内置的 ctx.request 和 ctx.response 之外，我们对Context内置了如下的扩展：\napp.use(ctx => {\n  // can use\n  ctx.$config        // 「只读」\n  ctx.$data          // 「可修改」  供模板使用的数据：可以在中间件中修改`$data`对象\n  ctx.$routes        // 「只读」    server-routes 服务端设定的Url路由\n  ctx.$ds            // 「只读」    datasources\n  ctx.$middlewares   // 「只读」    middlewares   中间件列表\n  ctx.$tpls          // 「只读」    templates     可以采用的渲染模板\n  ctx.$pages         // 「只读」    pages         能被渲染的页面\n})\n\n\n需要注意的是ctx.$routes、ctx.$middlewares、ctx.$tpls和ctx.$pages在开发中一般不会被使用到，主要用途在于调试。 关于Koa上下文介绍详见： https://github.com/koajs/koa/blob/master/docs/api/context.md。\n\n如果你想给ctx扩展新的对象，可以在目录server/context新建一个.js文件(要求抛出一个类)，\n在Koa应用启动时会自动扩展至ctx中。比如，在每个中间件中可能都会使用到http(发请求)，\n你可以创建http.js，内容格式如下：\n// 抛出一个类\nexport default class Http {\n  post(uri, data) {}\n  get(uri) {}\n}\n\n在Koa应用启动时，就会自动创建一个Http的实例并扩展至ctx.http中(即ctx.http = new Http())。\n扩展行为在Koa实例执行listen()前启动，这样对于任何一次请求都会复用ctx.http这个实例，无需重复创建、初始化。\n// 传统方式\nimport Http form '@server/context/http'\napp.use(ctx => {\n  // 每次请求时都会新建一个 Http实例(耗资源)\n  const http = new Http()\n})\n\n// 扩展Context方式\napp.use(ctx => {\n  // 整个Koa应用中，每次请求都复用同一个Http实例\n  const http = ctx.http\n})\n\n原则上，对于那些初始化工作稍重的对象都建议采用扩展Context的方式实现，典型的如数据库连接实例等。\n"},"controllers.html":{"url":"controllers.html","title":"@controllers","keywords":"","body":""},"datasources.html":{"url":"datasources.html","title":"@datasources","keywords":"","body":"Datasources\n功能：对数据进行封装、聚合，提供统一的数据来源；处于前后端分离的\"枢纽\"位置。\n\"理想\"情况下，前端通过调用后端某个（Restful风格API）接口即可满足前端的业务逻辑、渲染。\n可实际开发中，存在着许许多多的 非 \"理想\"的困扰:\n\n前端的某个模块的数据可能来自不同后端（团队）数据服务，要求后端提供一份让前端开发者\"舒适\"的数据？先不论协商沟通的成本，后端更改接口的进度需与前端迭代需保持一致，这种要求违背了前后端分离的初衷。\n\n前后端开发周期不一致，前端研发阶段并不一定能及时拿到后端的接口数据（或者满足前端某种交互场景的\"临界\"数据）；这意味着，后端的进度会\"阻塞\"到前端的研发。\n\n\n使用方法\n数据模拟\n\n.json  => Introducing JSON.hson  => Hjson, a user interface for JSON.mock   => Mock.js, a simulation data generator \n\n缓存请求\n"},"middlewares.html":{"url":"middlewares.html","title":"@middlewares","keywords":"","body":""},"templates.html":{"url":"templates.html","title":"@templates","keywords":"","body":""}}}